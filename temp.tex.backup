\documentclass{article}
\usepackage{graphicx}
\usepackage{geometry}
 \geometry{
 a4paper,
% total={210mm,297mm},
 left=20mm,
 right=20mm,
 top=20mm,
 bottom=20mm,
 }
\graphicspath{ {/home/synchro/Pictures/} }
\setlength{\tabcolsep}{2pt}
\setlength\emergencystretch\textwidth

\begin{document}

\title{\textbf{Embedded Real-Time Systems}}
\author{Ali Alessio Salman, Bastiaan Gris\`el, Henko Aantjes}

\maketitle

\begin{abstract}
\begin{center}
The abstract text goes here. 
\end{center}
\end{abstract}

\section{Introduction}
Here is the text of the introduction.

\subsection{Protocol Design}
We've decided to use a 32 bits packet for each message sent between the PC and the X32 Softcore. As shown in the table below, the packet is composed by 3 parts: \textit{(i)} the first byte represents the preamble of the packet, which indicates the control value (i.e. what the message is for); \textit{(ii)} the next 2 bytes carry the actual payload that according to the kind of information can be a char, an int8\_t, an int16\_t or un uint\_16; \textit{(iii)} the last byte is reserved for the checksum.
Since we're working on a \textit{real-time} system we've chosen not to pay special attention to the packet loss because the information in each packet is pretty meager and it's more important to receive the next ones than setting up a routine to re-send lost packets that could incur in losing precious time.
The checksum instead is fundamental not to execute the wrong commands that could cause an immediate crash of the QR. Therefore, both the FPGA and the PC are constantly checking if the checksum is correct before actually process the packet. What exactly happens is that first they compute the calculations on the first 3 bytes and compare it with the checksum: if the checksum is correct the packet can be forwarded for the following processing; if not, the first byte is discarded and another byte is taken from the queue
\vspace{2em}


\begin{table}[h!]
\centering
 \begin{tabular}{||c|c|c|c||} 
 \hline
 Code & Type & Payload & Additional Info \\ [0.5ex] 
 \hline\hline
 0 & M & 3bits to choose the mode + padding & 8bits checksum \\ 
 \hline
 1 & L & 8bits integer value (offset) & 8bits checksum \\
 \hline
 2 & R & 8bits integer value (offset) & 8bits checksum \\
 \hline
 3 & P & 8bits integer value (offset) & 8bits checksum \\
 \hline
 4 & Y & 8bits integer value (offset) & 8bits checksum\\ 
 \hline
 5 & J & 8bits integer value (P-control) & 8bits checksum\\ 
 \hline
 6 & K & 8bits integer value (P-control) & 8bits checksum\\ 
 \hline
 7 & L & 8bits integer value (P-control) & 8bits checksum\\ 
 \hline
\end{tabular}
\caption{Each row describes a packet type (Provisional)}
\label{table:1}
\end{table}


\end{document}
